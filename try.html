<!DOCTYPE html>
<html>
<head>
    <title>Admin Pricing Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            background: #f4f6f9;
            font-family: 'Segoe UI', sans-serif;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #4e73df, #224abe);
            color: white;
            padding: 30px;
            border-radius: 16px;
        }

        .card-modern {
            border: none;
            border-radius: 16px;
            transition: 0.3s ease;
        }

        .card-modern:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
        }

        .stat-icon {
            font-size: 26px;
            padding: 14px;
            border-radius: 12px;
        }

        .small-growth {
            font-size: 13px;
            font-weight: 500;
        }

        .highest-badge {
            background: #198754;
            color: white;
            padding: 6px 12px;
            font-size: 13px;
            border-radius: 20px;
        }
    </style>
</head>

<body>

<div class="container py-5">

    <!-- HEADER -->
    <div class="dashboard-header mb-5 shadow">
        <h2 class="fw-bold">Pricing Dashboard</h2>
        <p class="opacity-75 mb-0">
            Monitor revenue & top earning course
        </p>
    </div>

    <!-- STATS CARDS -->
    <div class="row g-4 mb-5">

        <!-- Total Balance -->
        <div class="col-md-6">
            <div class="card card-modern shadow-sm p-4">
                <div class="d-flex justify-content-between">
                    <div>
                        <h6 class="text-muted">Total Balance</h6>
                        <h3 class="fw-bold text-success">
                            â‚¹ <span id="totalBalance">0</span>
                        </h3>
                        <div class="small-growth text-success">
                            <i class="bi bi-arrow-up"></i> Revenue summary
                        </div>
                    </div>
                    <div class="stat-icon bg-success bg-opacity-10 text-success">
                        <i class="bi bi-wallet2"></i>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- CHART SECTION -->
    <div class="card card-modern shadow-sm p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="fw-semibold mb-0">Course Revenue Comparison</h5>
            <span id="topCourseBadge" class="highest-badge d-none"></span>
        </div>
        <canvas id="revenueChart" height="90"></canvas>
    </div>

</div>

<script>

    // ðŸ”¥ Example Data (Replace with backend fetch)
    const courses = [
        { name: "Python", revenue: 25000 },
        { name: "Java", revenue: 18000 },
        { name: "Web Dev", revenue: 32000 },
        { name: "DSA", revenue: 15000 }
    ];



    // Calculate total balance
    const totalBalance = courses.reduce((sum, c) => sum + c.revenue, 0);

    // Update UI
    document.getElementById("totalBalance").innerText =
        totalBalance.toLocaleString();


    // Find highest revenue course
    const topCourse = courses.reduce((max, c) =>
        c.revenue > max.revenue ? c : max
    );

    const badge = document.getElementById("topCourseBadge");
    badge.innerText =
        `Top Course: ${topCourse.name} (â‚¹${topCourse.revenue.toLocaleString()})`;
    badge.classList.remove("d-none");

    // Revenue Chart
    new Chart(document.getElementById('revenueChart'), {
        type: 'bar',
        data: {
            labels: courses.map(c => c.name),
            datasets: [{
                data: courses.map(c => c.revenue),
                backgroundColor: "#4e73df",
                borderRadius: 10
            }]
        },
        options: {
            plugins: { legend: { display: false } },
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    grid: { color: "#e3e6f0" }
                },
                x: {
                    grid: { display: false }
                }
            }
        }
    });

</script>

</body>
</html>
